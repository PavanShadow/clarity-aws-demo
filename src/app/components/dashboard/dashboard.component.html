<div class="content-container">
  <div class="content-area">
    <clr-datagrid>
      <clr-dg-column>User ID</clr-dg-column>
      <clr-dg-column>Name</clr-dg-column>
      <clr-dg-column>Department</clr-dg-column>
      <clr-dg-column>Action</clr-dg-column>

      <clr-dg-row *clrDgItems="let user of users" [clrDgItem]="user">
        <ng-container *ngIf="user.userId === editUser?.userId">
          <clr-dg-cell
            ><input
              clrInput
              [(ngModel)]="editUser.userId"
              name="userId"
              readonly
          /></clr-dg-cell>
          <clr-dg-cell
            ><input clrInput [(ngModel)]="editUser.name" name="name"
          /></clr-dg-cell>
          <clr-dg-cell
            ><select
              clrSelect
              [(ngModel)]="editUser.department"
              name="department"
            >
              <option
                *ngFor="let dep of departments"
                value="{{ dep.depName }}"
                >{{ dep.depName }}</option
              >
            </select>
          </clr-dg-cell>
          <clr-dg-cell
            ><button
              type="button"
              class="btn btn-sm"
              (click)="save()"
            >
              Save
            </button></clr-dg-cell
          >
        </ng-container>

        <ng-container *ngIf="editUser?.userId !== user.userId">
          <clr-dg-cell>{{ user.userId }}</clr-dg-cell>
          <clr-dg-cell>{{ user.name }}</clr-dg-cell>
          <clr-dg-cell>{{ user.department }}</clr-dg-cell>
          <clr-dg-cell
            ><button type="button" class="btn btn-sm" (click)="editUser = user">
              Edit
            </button></clr-dg-cell
          >
        </ng-container>
      </clr-dg-row>

      <clr-dg-footer>{{ userCount }} users</clr-dg-footer>
    </clr-datagrid>
  </div>
</div>
